<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生死对赌协议</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>
    <div class="container">
        <header>
            <h1>生死对赌协议</h1>
        </header>

        <main class="agreement-content">
            <section class="parties">
                <p><strong>甲方：</strong>__________</p>
                <p><strong>乙方：</strong>__________</p>
            </section>

            <section class="clause">
                <h3>一、赌局标的</h3>
                <p>双方就既成情侣<strong>杨婷</strong>与<strong>王业鑫</strong>的恋爱存续期限进行打赌。</p>
            </section>

            <section class="clause">
                <h3>二、赌局内容</h3>
                <p>1. 甲方主张：目标情侣自本协议签订之日起，恋爱关系存续不超过3个月；</p>
                <p>2. 乙方主张：目标情侣自本协议签订之日起，恋爱关系存续超过3个月；</p>
                <p>3. 赌局期限：自协议签订当日（<strong>2025年12月16日</strong>）起至<strong>2026年3月16日</strong>24:00止。</p>
            </section>

            <section class="clause countdown-section">
                <div class="countdown" id="countdown">
                    <span>距赌局结算还剩：</span>
                    <span id="days">00</span>天
                    <span id="hours">00</span>时
                    <span id="minutes">00</span>分
                    <span id="seconds">00</span>秒
                </div>
            </section>

            <section class="clause">
                <h3>三、赌注约定</h3>
                <p>1. 若甲方胜诉（目标情侣存续期≤3个月），由乙方承担一顿正餐，标准：人均消费约100元，用餐地点由乙方推荐3个选项，甲方最终选定；</p>
                <p>2. 若乙方胜诉（目标情侣存续期＞3个月），由甲方承担一顿正餐，标准同上，用餐地点由甲方推荐3个选项，乙方最终选定；</p>
                <p>3. 用餐时间：赌局结果确认后15日内，双方协商确定，不得无故拖延。</p>
            </section>

            <section class="clause">
                <h3>四、结果确认方式</h3>
                <p>1. 双方需在赌局期限内共同关注目标情侣状态，优先以"双方共同目击目标情侣仍以恋爱关系相处"或"目标情侣本人确认未分手"作为存续依据；</p>
                <p>2. 若期限届满前，双方均无法确认目标情侣状态，默认按"存续超过3个月"判定，甲方承担赌注；</p>
                <p>3. 结果确认后，双方需在3日内达成用餐共识，不得反悔。</p>
            </section>

            <section class="clause">
                <h3>五、其他约定</h3>
                <p>1. 本协议为朋友间娱乐性质，不涉及非法赌博，双方自愿参与，签字即视为认可所有条款；</p>
                <p>2. 不得为影响赌局结果故意干扰目标情侣的恋爱关系，否则视为违约，违约方直接承担赌注；</p>
                <p>3. 本协议一式无数份，甲乙双方各执无数份，签字后生效，未尽事宜由双方友好协商解决。</p>
            </section>
        </main>

        <section class="signatures">
            <div class="signature-block" id="block-partyA">
                <p class="sign-label">甲方签字：</p>
                <div class="signature-area">
                    <div class="signature-display" id="display-partyA"></div>
                    <div class="stamp-area" id="stamp-partyA">
                        <div class="stamp">已签约</div>
                    </div>
                </div>
                <p class="signature-meta" id="meta-partyA"></p>
                <button class="btn-sign" onclick="openSignModal('partyA')">甲方签字</button>
            </div>

            <div class="signature-block" id="block-partyB">
                <p class="sign-label">乙方签字：</p>
                <div class="signature-area">
                    <div class="signature-display" id="display-partyB"></div>
                    <div class="stamp-area" id="stamp-partyB">
                        <div class="stamp">已签约</div>
                    </div>
                </div>
                <p class="signature-meta" id="meta-partyB"></p>
                <button class="btn-sign" onclick="openSignModal('partyB')">乙方签字</button>
            </div>
        </section>

        <section class="download-section">
            <button class="btn-download" onclick="downloadAsImage()">保存为图片</button>
            <button class="btn-download" onclick="downloadAsPDF()">保存为PDF</button>
            <button class="btn-download" onclick="window.print()">打印</button>
        </section>
    </div>

    <!-- Signing Modal -->
    <div id="signModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h3 id="modalTitle">请在下方签名</h3>
            <div class="canvas-container">
                <canvas id="signaturePad"></canvas>
            </div>
            <div class="modal-actions">
                <button class="btn-clear" onclick="clearPad()">重写</button>
                <button class="btn-save" onclick="saveSignature()">确认</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>

